From 820c4cb8acb58ad2a32bbfbc369524bef4eb6e75 Mon Sep 17 00:00:00 2001
From: Jenkins Slave <jenkins@code.rdkcentral.com>
Date: Fri, 11 Aug 2023 12:45:27 +0100
Subject: [PATCH] handle_mesh-rename-opensync

Change-Id: I58040961157424a4e1783cdfad6ad8a19a63479e
---
 scripts/handle_mesh | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

diff --git a/scripts/handle_mesh b/scripts/handle_mesh
index ddb600e..64c4e54 100644
--- a/scripts/handle_mesh
+++ b/scripts/handle_mesh
@@ -51,11 +51,18 @@ is_opensync_name()
     done
     return 1
 }
+is_opensync_service()
+{
+    systemctl list-unit-files opensync.service | grep -q opensync.service
+}
 if [ $# -eq 0 ]; then
  echo "No arguments passed"
  exit 0
 else
  platform_checks
+ if is_opensync_service; then
+        systemctl $1 opensync.service
+ else
  if [ "$OPENSYNC_44_ENABLE" == "true" ]
  then
     echo "OPENSYNC_44_ENABLE is true"
@@ -70,9 +77,10 @@ else
         $OPENSYNC_SCRIPTS_PATH/managers.init $1
     else
         echo "Opensync will be effective only after reboot"
-        /usr/plume/scripts/managers.init $1
+        /usr/opensync/scripts/managers.init $1
     fi
  else
-  /usr/plume/scripts/managers.init $1
+  /usr/opensync/scripts/managers.init $1
+ fi
  fi
 fi
-- 
2.37.3

